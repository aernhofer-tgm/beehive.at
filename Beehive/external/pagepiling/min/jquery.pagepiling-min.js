!function($,n,e,t){"use strict";$.fn.pagepiling=function(o){function i(n){n.addClass("pp-table").wrapInner('<div class="pp-tableCell" style="height:100%" />')}function a(n){var e=$(".pp-section.active").index(".pp-section"),t=n.index(".pp-section");return e>t?"up":"down"}function s(n,e){var t={destination:n,animated:e,activeSection:$(".pp-section.active"),anchorLink:n.data("anchor"),sectionIndex:n.index(".pp-section"),toMove:n,yMovement:a(n),leavingSection:$(".pp-section.active").index(".pp-section")+1};if(!t.activeSection.is(n)){"undefined"==typeof t.animated&&(t.animated=!0),"undefined"!=typeof t.anchorLink&&v(t.anchorLink,t.sectionIndex),t.destination.addClass("active").siblings().removeClass("active"),t.sectionsToMove=l(t),"down"===t.yMovement?(t.translate3d=U(),t.scrolling="-100%",G.css3||t.sectionsToMove.each(function(n){n!=t.activeSection.index(".pp-section")&&$(this).css(d(t.scrolling))}),t.animateSection=t.activeSection):(t.translate3d="translate3d(0px, 0px, 0px)",t.scrolling="0",t.animateSection=n),$.isFunction(G.onLeave)&&G.onLeave.call(this,t.leavingSection,t.sectionIndex+1,t.yMovement),c(t),A(t.anchorLink),z(t.anchorLink,t.sectionIndex),B=t.anchorLink;var o=(new Date).getTime();F=o}}function c(n){G.css3?(w(n.animateSection,n.translate3d,n.animated),n.sectionsToMove.each(function(){w($(this),n.translate3d,n.animated)}),setTimeout(function(){r(n)},G.scrollingSpeed)):(n.scrollOptions=d(n.scrolling),n.animated?n.animateSection.animate(n.scrollOptions,G.scrollingSpeed,G.easing,function(){p(n),r(n)}):(n.animateSection.css(d(n.scrolling)),setTimeout(function(){p(n),r(n)},400)))}function r(n){$.isFunction(G.afterLoad)&&G.afterLoad.call(this,n.anchorLink,n.sectionIndex+1)}function l(n){var e;return e="down"===n.yMovement?$(".pp-section").map(function(e){return e<n.destination.index(".pp-section")?$(this):void 0}):$(".pp-section").map(function(e){return e>n.destination.index(".pp-section")?$(this):void 0})}function p(n){"up"===n.yMovement&&n.sectionsToMove.each(function(e){$(this).css(d(n.scrolling))})}function d(n){return"vertical"===G.direction?{top:n}:{left:n}}function u(n,e){G.css3?w(n,U(),!1):n.css(d(e))}function v(n,e){G.anchors.length?(location.hash=n,f(location.hash)):f(String(e))}function f(n){n=n.replace("#",""),$("body")[0].className=$("body")[0].className.replace(/\b\s?pp-viewing-[^\s]+\b/g,""),$("body").addClass("pp-viewing-"+n)}function h(){var n=e.location.hash.replace("#",""),t=n,o=$('.pp-section[data-anchor="'+t+'"]');o.length>0&&s(o,G.animateAnchor)}function m(){var n=(new Date).getTime();return n-F<V+G.scrollingSpeed?!0:!1}function g(){var n=e.location.hash.replace("#","").split("/"),t=n[0];if(t.length&&t&&t!==B){var o;o=isNaN(t)?$('[data-anchor="'+t+'"]'):$(".pp-section").eq(t-1),s(o)}}function S(n){return{"-webkit-transform":n,"-moz-transform":n,"-ms-transform":n,transform:n}}function w(n,e,t){n.toggleClass("pp-easing",t),n.css(S(e))}function y(n){if(!m()){n=e.event||n;var t=Math.max(-1,Math.min(1,n.wheelDelta||-n.deltaY||-n.detail)),o=$(".pp-section.active"),i=T(o);return 0>t?x("down",i):x("up",i),!1}}function x(n,e){var t,o;if("down"==n?(t="bottom",o=W.moveSectionDown):(t="top",o=W.moveSectionUp),e.length>0){if(!b(t,e))return!0;o()}else o()}function b(n,e){return"top"===n?!e.scrollTop():"bottom"===n?e.scrollTop()+1+e.innerHeight()>=e[0].scrollHeight:void 0}function T(n){return n.filter(".pp-scrollable")}function C(){X.get(0).addEventListener?(X.get(0).removeEventListener("mousewheel",y,!1),X.get(0).removeEventListener("wheel",y,!1)):X.get(0).detachEvent("onmousewheel",y)}function M(){X.get(0).addEventListener?(X.get(0).addEventListener("mousewheel",y,!1),X.get(0).addEventListener("wheel",y,!1)):X.get(0).attachEvent("onmousewheel",y)}function k(){if(Q){var n=L();X.off("touchstart "+n.down).on("touchstart "+n.down,P),X.off("touchmove "+n.move).on("touchmove "+n.move,N)}}function E(){if(Q){var n=L();X.off("touchstart "+n.down),X.off("touchmove "+n.move)}}function L(){var n;return n=e.PointerEvent?{down:"pointerdown",move:"pointermove",up:"pointerup"}:{down:"MSPointerDown",move:"MSPointerMove",up:"MSPointerUp"}}function D(n){var e=new Array;return e.y="undefined"!=typeof n.pageY&&(n.pageY||n.pageX)?n.pageY:n.touches[0].pageY,e.x="undefined"!=typeof n.pageX&&(n.pageY||n.pageX)?n.pageX:n.touches[0].pageX,e}function I(n){return"undefined"==typeof n.pointerType||"mouse"!=n.pointerType}function P(n){var e=n.originalEvent;if(I(e)){var t=D(e);R=t.y,j=t.x}}function N(n){var e=n.originalEvent;if(!Y(n.target)&&I(e)){var t=$(".pp-section.active"),o=T(t);if(o.length||n.preventDefault(),!m()){var i=D(e);H=i.y,K=i.x,"horizontal"===G.direction&&Math.abs(j-K)>Math.abs(R-H)?Math.abs(j-K)>X.width()/100*G.touchSensitivity&&(j>K?x("down",o):K>j&&x("up",o)):Math.abs(R-H)>X.height()/100*G.touchSensitivity&&(R>H?x("down",o):H>R&&x("up",o))}}}function Y(n,e){e=e||0;var t=$(n).parent();return e<G.normalScrollElementTouchThreshold&&t.is(G.normalScrollElements)?!0:e==G.normalScrollElementTouchThreshold?!1:Y(t,++e)}function q(){$("body").append('<div id="pp-nav"><ul></ul></div>');var n=$("#pp-nav");n.css("color",G.navigation.textColor),n.addClass(G.navigation.position);for(var e=0;e<$(".pp-section").length;e++){var t="";if(G.anchors.length&&(t=G.anchors[e]),"undefined"!==G.navigation.tooltips){var o=G.navigation.tooltips[e];"undefined"==typeof o&&(o="")}n.find("ul").append('<li data-tooltip="'+o+'"><a href="#'+t+'"><span></span></a></li>')}n.find("span").css("border-color",G.navigation.bulletsColor)}function z(n,e){G.navigation&&($("#pp-nav").find(".active").removeClass("active"),n?$("#pp-nav").find('a[href="#'+n+'"]').addClass("active"):$("#pp-nav").find("li").eq(e).find("a").addClass("active"))}function A(n){G.menu&&($(G.menu).find(".active").removeClass("active"),$(G.menu).find('[data-menuanchor="'+n+'"]').addClass("active"))}function O(){var o=n.createElement("p"),i,a={webkitTransform:"-webkit-transform",OTransform:"-o-transform",msTransform:"-ms-transform",MozTransform:"-moz-transform",transform:"transform"};n.body.insertBefore(o,null);for(var s in a)o.style[s]!==t&&(o.style[s]="translate3d(1px,1px,1px)",i=e.getComputedStyle(o).getPropertyValue(a[s]));return n.body.removeChild(o),i!==t&&i.length>0&&"none"!==i}function U(){return"vertical"!==G.direction?"translate3d(-100%, 0px, 0px)":"translate3d(0px, -100%, 0px)"}var W=$.fn.pagepiling,X=$(this),B,F=0,Q="ontouchstart"in e||navigator.msMaxTouchPoints>0||navigator.maxTouchPoints,R=0,j=0,H=0,K=0,V=600,G=$.extend(!0,{direction:"vertical",menu:null,verticalCentered:!0,sectionsColor:[],anchors:[],scrollingSpeed:700,easing:"easeInQuart",loopBottom:!1,loopTop:!1,css3:!0,navigation:{textColor:"#000",bulletsColor:"#000",position:"right",tooltips:[]},normalScrollElements:null,normalScrollElementTouchThreshold:5,touchSensitivity:5,keyboardScrolling:!0,sectionSelector:".section",animateAnchor:!1,afterLoad:null,onLeave:null,afterRender:null},o);$.extend($.easing,{easeInQuart:function(n,e,t,o,i){return o*(e/=i)*e*e*e+t}}),W.setScrollingSpeed=function(n){G.scrollingSpeed=n},W.setMouseWheelScrolling=function(n){n?M():C()},W.setAllowScrolling=function(n){n?(W.setMouseWheelScrolling(!0),k()):(W.setMouseWheelScrolling(!1),E())},W.setKeyboardScrolling=function(n){G.keyboardScrolling=n},W.moveSectionUp=function(){var n=$(".pp-section.active").prev(".pp-section");!n.length&&G.loopTop&&(n=$(".pp-section").last()),n.length&&s(n)},W.moveSectionDown=function(){var n=$(".pp-section.active").next(".pp-section");!n.length&&G.loopBottom&&(n=$(".pp-section").first()),n.length&&s(n)},W.moveTo=function(n){var e="";e=isNaN(n)?$('[data-anchor="'+n+'"]'):$(".pp-section").eq(n-1),e.length>0&&s(e)},$(G.sectionSelector).each(function(){$(this).addClass("pp-section")}),G.css3&&(G.css3=O()),$(X).css({overflow:"hidden","-ms-touch-action":"none","touch-action":"none"}),W.setAllowScrolling(!0),$.isEmptyObject(G.navigation)||q();var J=$(".pp-section").length;$(".pp-section").each(function(n){$(this).data("data-index",n),$(this).css("z-index",J),n||0!==$(".pp-section.active").length||$(this).addClass("active"),"undefined"!=typeof G.anchors[n]&&$(this).attr("data-anchor",G.anchors[n]),"undefined"!=typeof G.sectionsColor[n]&&$(this).css("background-color",G.sectionsColor[n]),G.verticalCentered&&!$(this).hasClass("pp-scrollable")&&i($(this)),J-=1}).promise().done(function(){G.navigation&&($("#pp-nav").css("margin-top","-"+$("#pp-nav").height()/2+"px"),$("#pp-nav").find("li").eq($(".pp-section.active").index(".pp-section")).find("a").addClass("active")),$(e).on("load",function(){h()}),$.isFunction(G.afterRender)&&G.afterRender.call(this)}),$(e).on("hashchange",g),$(n).keydown(function(n){if(G.keyboardScrolling&&!m())switch(n.which){case 38:case 33:W.moveSectionUp();break;case 40:case 34:W.moveSectionDown();break;case 36:W.moveTo(1);break;case 35:W.moveTo($(".pp-section").length);break;case 37:W.moveSectionUp();break;case 39:W.moveSectionDown();break;default:return}}),G.normalScrollElements&&($(n).on("mouseenter",G.normalScrollElements,function(){W.setMouseWheelScrolling(!1)}),$(n).on("mouseleave",G.normalScrollElements,function(){W.setMouseWheelScrolling(!0)})),$(n).on("click touchstart","#pp-nav a",function(n){n.preventDefault();var e=$(this).parent().index();s($(".pp-section").eq(e))}),$(n).on({mouseenter:function(){var n=$(this).data("tooltip");$('<div class="pp-tooltip '+G.navigation.position+'">'+n+"</div>").hide().appendTo($(this)).fadeIn(200)},mouseleave:function(){$(this).find(".pp-tooltip").fadeOut(200,function(){$(this).remove()})}},"#pp-nav li")}}(jQuery,document,window);